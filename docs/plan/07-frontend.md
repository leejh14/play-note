# í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ ê³„íš (Next.js)

> ëª¨ë°”ì¼ ìš°ì„  ì›¹ì•±. App Router + Apollo Client + Tailwind CSS.
> ì£¼ ì‚¬ìš© í™˜ê²½: ì¹´ì¹´ì˜¤í†¡ ë§í¬ â†’ ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €.

---

## 1. ê¸°ìˆ  ìŠ¤íƒ

| ë¶„ë¥˜ | ì„ íƒ |
|------|------|
| í”„ë ˆì„ì›Œí¬ | Next.js (App Router) |
| GraphQL Client | Apollo Client |
| ìŠ¤íƒ€ì¼ë§ | Tailwind CSS |
| ì•„ì´ì½˜ | Lucide React |
| ì¹´ì¹´ì˜¤ ê³µìœ  | Kakao JS SDK |
| ìƒíƒœ ê´€ë¦¬ | Apollo Cache (ì¶”ê°€ ìƒíƒœ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆí•„ìš”) |

## 1-A. Phase 07 êµ¬í˜„ ê²°ì • (í™•ì •ê°’)

- ì¸ì¦ ì •ì±…ì€ API í˜„ì¬ ìƒíƒœì™€ ë™ì¼í•˜ê²Œ ìœ ì§€:
  - ê³µê°œ API: `sessionPreview`(query), `createSession`(mutation)
  - `/sessions`, `/stats`, `/friends`, `/s/{id}/setup`, `/s/{id}/detail`ëŠ” í† í° í•„ìš”
- ì„¸ì…˜ ID ì •ì±…:
  - URL ê²½ë¡œ: Global ID (`/s/{sessionGlobalId}`)
  - ì¸ì¦ í—¤ë”: Local ID (`x-session-id`)
  - í´ë¼ì´ì–¸íŠ¸ì—ì„œ Globalâ†”Local ë³€í™˜
- í† í° ì €ì¥:
  - ê¸°ë³¸ í† í°: `playnote:session:{localSessionId}:token`
  - ê³µìœ ìš© í† í°(ì„ íƒ): `playnote:session:{localSessionId}:share-token`
  - í™œì„± ì„¸ì…˜: `playnote:active-session-id`
  - ìµœê·¼ ì‚¬ìš© ì‹œê°: `playnote:session:{localSessionId}:last-used-at`
- role probe ì¶”ê°€:
  - Query: `authContext`
  - ì‘ë‹µ: `{ sessionId, role }`
  - `role`ì´ `ADMIN`ì¼ ë•Œë§Œ Friend CRUD / Match ì‚­ì œ UI ë…¸ì¶œ
- ë¬´í† í° ì ‘ê·¼ UX:
  - ë§í¬ ìœ ë„ í™”ë©´ ë…¸ì¶œ("ê³µìœ  ë§í¬ë¡œ ë¨¼ì € ì…ì¥")

---

## 2. ë¼ìš°íŒ… êµ¬ì¡°

```
src/app/
â”œâ”€â”€ layout.tsx                       # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ (Apollo Provider, íƒ­ ë°”)
â”œâ”€â”€ page.tsx                         # redirect â†’ /sessions
â”‚
â”œâ”€â”€ sessions/
â”‚   â”œâ”€â”€ page.tsx                     # ì„¸ì…˜ ëª©ë¡ (Tab: Sessions)
â”‚   â””â”€â”€ new/
â”‚       â”œâ”€â”€ page.tsx                 # ì„¸ì…˜ ìƒì„±
â”‚       â””â”€â”€ share-complete/
â”‚           â””â”€â”€ page.tsx             # ìƒì„± ì§í›„ ê³µìœ /ë³µì‚¬ í™”ë©´
â”‚
â”œâ”€â”€ s/[sessionId]/
â”‚   â”œâ”€â”€ page.tsx                     # ì„¸ì…˜ ì§„ì…ì  (í† í° ì²˜ë¦¬ + ë¼ìš°íŒ…)
â”‚   â”œâ”€â”€ setup/
â”‚   â”‚   â””â”€â”€ page.tsx                 # ì„¸ì…˜ ì…‹ì—… (scheduled ìƒíƒœ)
â”‚   â””â”€â”€ detail/
â”‚       â””â”€â”€ page.tsx                 # ì„¸ì…˜ ìƒì„¸ (confirmed/done ìƒíƒœ)
â”‚
â”œâ”€â”€ stats/
â”‚   â”œâ”€â”€ page.tsx                     # í†µê³„ ê°œìš” (Tab: Statistics)
â”‚   â””â”€â”€ [friendId]/
â”‚       â””â”€â”€ page.tsx                 # ì¹œêµ¬ë³„ ìƒì„¸ í†µê³„
â”‚
â””â”€â”€ friends/
    â””â”€â”€ page.tsx                     # ì¹œêµ¬ ê´€ë¦¬ (Tab: Friends)
```

### í˜ì´ì§€ë³„ ì—­í• 

| ê²½ë¡œ | ì—­í•  | í† í° | íƒ­ ë°” |
|------|------|------|-------|
| `/sessions` | ì„¸ì…˜ ëª©ë¡ (í™ˆ) | í•„ìš” (active session token) | O |
| `/sessions/new` | ì„¸ì…˜ ìƒì„± | ë¶ˆí•„ìš” (`createSession` ê³µê°œ) | X (ë’¤ë¡œê°€ê¸°) |
| `/sessions/new/share-complete` | ìƒì„± ì™„ë£Œ ê³µìœ  UX | í•„ìš” (ìƒì„± ì§í›„ ì €ì¥ token) | X (ë’¤ë¡œê°€ê¸°) |
| `/s/{id}` | ì§„ì…ì : í† í° ì €ì¥ â†’ ìƒíƒœë³„ ë¦¬ë‹¤ì´ë ‰íŠ¸ | URL íŒŒë¼ë¯¸í„° `?t=` | X |
| `/s/{id}/setup` | ì…‹ì—… (ì°¸ê°€/íŒ€/ë¼ì¸) | í•„ìš” | X (ë’¤ë¡œê°€ê¸°) |
| `/s/{id}/detail` | ìƒì„¸ (ë§¤ì¹˜/ì²¨ë¶€/ëŒ“ê¸€) | í•„ìš” | X (ë’¤ë¡œê°€ê¸°) |
| `/stats` | í†µê³„ ê°œìš” | í•„ìš” (active session token) | O |
| `/stats/{friendId}` | ì¹œêµ¬ë³„ ìƒì„¸ í†µê³„ | í•„ìš” (active session token) | X (ë’¤ë¡œê°€ê¸°) |
| `/friends` | ì¹œêµ¬ ê´€ë¦¬ | í•„ìš” (admin) | O |

---

## 3. í† í° ê´€ë¦¬

### ì €ì¥

```typescript
// lib/token.ts
const TOKEN_PREFIX = 'playnote:session';

function saveToken(sessionId: string, token: string) {
  localStorage.setItem(`${TOKEN_PREFIX}:${sessionId}:token`, token);
}

function getToken(sessionId: string): string | null {
  return localStorage.getItem(`${TOKEN_PREFIX}:${sessionId}:token`);
}

function removeToken(sessionId: string) {
  localStorage.removeItem(`${TOKEN_PREFIX}:${sessionId}:token`);
}
```

### ì§„ì… í”Œë¡œìš° (`/s/{sessionId}`)

```
1. URLì—ì„œ ?t= íŒŒë¼ë¯¸í„° ì¶”ì¶œ
2. ?t= ìˆìœ¼ë©´ â†’ localStorage token/share-token ìµœì‹ ê°’ìœ¼ë¡œ ì €ì¥(ê¸°ì¡´ ê°’ ë®ì–´ì“°ê¸°)
3. sessionIdë¡œ ì„¸ì…˜ ìƒíƒœ ì¡°íšŒ (GraphQL)
4. statusì— ë”°ë¼ ë¼ìš°íŒ…:
   - scheduled â†’ /s/{id}/setup
   - confirmed / done â†’ /s/{id}/detail
5. `INVALID_TOKEN | SESSION_NOT_FOUND | UNAUTHORIZED` ë°œìƒ ì‹œ:
   - `playnote:session:{id}:token`, `share-token` ì œê±°
   - `playnote:active-session-id`ê°€ í•´ë‹¹ ì„¸ì…˜ì´ë©´ ì œê±°
   - ì¬ì§„ì… ì•ˆë‚´ UI ë…¸ì¶œ
6. active sessionì´ ì—†ìœ¼ë©´ ì €ì¥ëœ í† í° ì¤‘ ìµœê·¼ ì‚¬ìš©(`last-used-at`) ì„¸ì…˜ì„ ê¸°ë³¸ ì»¨í…ìŠ¤íŠ¸ë¡œ ì„ íƒ
```

### Apollo Client í—¤ë” ì£¼ì…

```typescript
const authLink = setContext((operation, { headers }) => {
  // GraphQL operationì˜ variablesì—ì„œ sessionId ì¶”ì¶œ
  // ë˜ëŠ” í˜„ì¬ URL pathì—ì„œ sessionId ì¶”ì¶œ
  const sessionId = extractSessionId(operation, window.location);
  const token = sessionId ? getToken(sessionId) : null;

  return {
    headers: {
      ...headers,
      ...(sessionId && { 'x-session-id': sessionId }),
      ...(token && { 'x-session-token': token }),
    },
  };
});

const errorLink = onError(({ graphQLErrors, operation }) => {
  // ì¸ì¦ ì‹¤íŒ¨ ì½”ë“œë©´ í•´ë‹¹ session token/share-token/active-session ì •ë¦¬
  // (UNAUTHORIZED | INVALID_TOKEN | SESSION_NOT_FOUND)
});
```

---

## 4. í™”ë©´ êµ¬ì„±

### 4.1 í•˜ë‹¨ íƒ­ ë°” (Global Navigation)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚       (Page Content)        â”‚
â”‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Sessionsâ”‚ Stats   â”‚ Friends â”‚
â”‚ ğŸ“…      â”‚ ğŸ“Š      â”‚ ğŸ‘¥      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- í™œì„± íƒ­: `$primary` (#2563EB) + fontWeight 600
- ë¹„í™œì„± íƒ­: `$gray-400` + fontWeight 500
- í•˜ìœ„ í˜ì´ì§€(ì„¸ì…˜ ìƒì„¸, í†µê³„ ìƒì„¸)ì—ì„œëŠ” íƒ­ ë°” ìˆ¨ê¹€ + ë’¤ë¡œê°€ê¸° í™”ì‚´í‘œ

### 4.2 ì„¸ì…˜ ëª©ë¡ (`/sessions`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PlayNote             [+ ìƒì„±]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [All] [LoL] [Futsal]        â”‚  â† ì»¨í…ì¸  í•„í„° íƒ­
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸŸ¢ ë¡¤ ë‚´ì „              â”‚ â”‚  â† status badge
â”‚ â”‚ 2026.03.07 (í† ) 19:00   â”‚ â”‚
â”‚ â”‚ ì°¸ê°€ 7/10  ë§¤ì¹˜ 2       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸŸ¡ í’‹ì‚´                 â”‚ â”‚
â”‚ â”‚ 2026.03.10 (ì›”) 18:00   â”‚ â”‚
â”‚ â”‚ ì°¸ê°€ 4/8                â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        (ë” ë³´ê¸°...)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- Relay cursor pagination (ë¬´í•œ ìŠ¤í¬ë¡¤ ë˜ëŠ” "ë” ë³´ê¸°")
- ê¸°ë³¸ ì •ë ¬: ì˜¤ëŠ˜ê³¼ ê°€ê¹Œìš´ ìˆœ â†’ í™œì„± ìƒíƒœ ìš°ì„ 

### 4.3 ì„¸ì…˜ ìƒì„± (`/sessions/new`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ìƒˆ ì„¸ì…˜                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚ ì»¨í…ì¸  ì„ íƒ                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚   LoL    â”‚ â”‚  í’‹ì‚´    â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚
â”‚ ì œëª© (ì„ íƒ)                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ ë‚ ì§œ / ì‹œê°„                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 2026.03.07 (í† ) 19:00   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚     ì„¸ì…˜ ìƒì„±í•˜ê¸°         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- ìƒì„± ì™„ë£Œ â†’ ì¹´ì¹´ì˜¤í†¡ ê³µìœ  / ë§í¬ ë³µì‚¬ í™”ë©´
- editorToken, adminToken ë°˜í™˜

### 4.4 ì„¸ì…˜ ì…‹ì—… (`/s/{id}/setup`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì…‹ì—…   ë¡¤ ë‚´ì „  [ê³µìœ ] [âš™]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì°¸ê°€ ìƒíƒœ                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”  â”‚
â”‚ â”‚ ğŸŸ¢ ì² ìˆ˜           â”‚ âœ“ â”‚  â”‚  â† ATTENDING
â”‚ â”‚ âšª ì˜í¬           â”‚ ? â”‚  â”‚  â† UNDECIDED
â”‚ â”‚ ğŸ”´ ë¯¼ìˆ˜           â”‚ âœ— â”‚  â”‚  â† NOT_ATTENDING
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”˜  â”‚
â”‚                             â”‚
â”‚ íŒ€ ë°°ì •                      â”‚
â”‚ Team A          Team B      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ì² ìˆ˜ TOP â”‚ â”‚ ì˜ìˆ˜ JG  â”‚  â”‚
â”‚ â”‚ ì§€ìˆ˜ MID â”‚ â”‚ í˜„ìš° ADC â”‚  â”‚
â”‚ â”‚ ...      â”‚ â”‚ ...      â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚     ì…‹ì—… í™•ì •í•˜ê¸°         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.5 ì„¸ì…˜ ìƒì„¸ (`/s/{id}/detail`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì„¸ì…˜ ìƒì„¸     [ê³µìœ ] [âš™] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë¡¤ ë‚´ì „ â€” 2026.03.07 19:00 â”‚
â”‚ ğŸŸ¢ confirmed  ğŸ”’ ì ê¹€      â”‚
â”‚                             â”‚
â”‚ â”€â”€â”€ íŒ€ êµ¬ì„± â”€â”€â”€             â”‚
â”‚ Team A: ì² ìˆ˜(TOP) ì§€ìˆ˜(MID)â”‚
â”‚ Team B: ì˜ìˆ˜(JG) í˜„ìš°(ADC) â”‚
â”‚                             â”‚
â”‚ â”€â”€â”€ ë§¤ì¹˜ â”€â”€â”€                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Match #1    ğŸ† Team A   â”‚ â”‚
â”‚ â”‚ Blue: Team A            â”‚ â”‚
â”‚ â”‚ [End Screen ğŸ“·]         â”‚ â”‚  â† LOL_RESULT_SCREEN ì—…ë¡œë“œ
â”‚ â”‚ OCR: âœ… ì¶”ì¶œ ì™„ë£Œ        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Match #2    ë¯¸í™•ì •       â”‚ â”‚
â”‚ â”‚ [+ End Screen ì—…ë¡œë“œ]   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ [+ ìƒˆ ë§¤ì¹˜ ìƒì„±]            â”‚
â”‚                             â”‚
â”‚ â”€â”€â”€ ì‚¬ì§„ â”€â”€â”€                â”‚
â”‚ [ğŸ“·] [ğŸ“·] [ğŸ“·]  [+ ì—…ë¡œë“œ] â”‚
â”‚ 3/10ì¥                      â”‚
â”‚                             â”‚
â”‚ â”€â”€â”€ ëŒ“ê¸€ â”€â”€â”€                â”‚
â”‚ ì² ìˆ˜: ì˜¤ëŠ˜ ì¬ë°Œì—ˆë‹¤!        â”‚
â”‚ [ëŒ“ê¸€ ì…ë ¥...]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.6 í†µê³„ ê°œìš” (`/stats`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Statistics                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ì´ë¦„ â”‚ WR â”‚ W-L â”‚ Lane â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ ì² ìˆ˜ â”‚67%â”‚ 4-2 â”‚ TOP  â”‚ â”‚  â† íƒ­ â†’ ìƒì„¸
â”‚ â”‚ ì˜í¬ â”‚60%â”‚ 3-2 â”‚ MID  â”‚ â”‚
â”‚ â”‚ ë¯¼ìˆ˜ â”‚50%â”‚ 2-2 â”‚ JG   â”‚ â”‚
â”‚ â”‚ ì§€ìˆ˜ â”‚ â€“ â”‚ 0-0 â”‚  â€“   â”‚ â”‚  â† ê¸°ë¡ ì—†ìŒ
â”‚ â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.7 í†µê³„ ìƒì„¸ (`/stats/{friendId}`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ì² ìˆ˜                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Win 67%â”‚ 6 Gamesâ”‚ TOP   â”‚ â”‚  â† ìš”ì•½ ì¹´ë“œ
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ â”€â”€â”€ ë¼ì¸ ë¶„í¬ â”€â”€â”€           â”‚
â”‚ TOP  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  5        â”‚
â”‚ JG   â–ˆâ–ˆâ–ˆâ–ˆ         2        â”‚
â”‚ MID  â–ˆâ–ˆ           1        â”‚
â”‚ ADC                0        â”‚
â”‚ SUP                0        â”‚
â”‚                             â”‚
â”‚ â”€â”€â”€ ìì£¼ ì´ê¸´ ì±”í”¼ì–¸ â”€â”€â”€    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Champion â”‚ W â”‚ G â”‚ WR â”‚  â”‚
â”‚ â”‚ Garen    â”‚ 3 â”‚ 4 â”‚75% â”‚  â”‚
â”‚ â”‚ Darius   â”‚ 2 â”‚ 2 â”‚100%â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ì¹´ì¹´ì˜¤í†¡ ê³µìœ 

### SDK ì´ˆê¸°í™”

```typescript
// lib/kakao.ts
declare global { interface Window { Kakao: any } }

export function initKakao() {
  if (typeof window !== 'undefined' && window.Kakao && !window.Kakao.isInitialized()) {
    window.Kakao.init(process.env.NEXT_PUBLIC_KAKAO_JS_KEY);
  }
}
```

### ê³µìœ  í•¨ìˆ˜

```typescript
export function shareSession(session: SessionData) {
  const shareUrl = `${window.location.origin}/s/${session.id}?t=${session.editorToken}`;

  window.Kakao.Share.sendDefault({
    objectType: 'feed',
    content: {
      title: `${contentLabel(session.contentType)} â€” ${formatDate(session.startsAt)}`,
      description: `${formatTime(session.startsAt)} Â· ì°¸ê°€ ${session.attendingCount}/${session.totalCount}`,
      imageUrl: thumbnailUrl(session.contentType),
      link: { mobileWebUrl: shareUrl, webUrl: shareUrl },
    },
    buttons: [{ title: 'ì°¸ê°€í•˜ê¸°', link: { mobileWebUrl: shareUrl, webUrl: shareUrl } }],
  });
}
```

### í´ë°±: ë§í¬ ë³µì‚¬

```typescript
export async function copyShareLink(sessionId: string, token: string) {
  const url = `${window.location.origin}/s/${sessionId}?t=${token}`;
  await navigator.clipboard.writeText(url);
  // toast: "ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤"
}
```

---

## 6. OG ë©”íƒ€ íƒœê·¸

```typescript
// app/s/[sessionId]/layout.tsx
export async function generateMetadata({ params }: Props): Promise<Metadata> {
  const { sessionId } = params;
  const preview = await fetchSessionPreview(sessionId); // sessionPreview ê³µê°œ ì¿¼ë¦¬

  return {
    title: `${contentLabel(preview.contentType)} â€” ${formatDate(preview.startsAt)}`,
    description: `${formatTime(preview.startsAt)} Â· PlayNote`,
    openGraph: {
      title: `${contentLabel(preview.contentType)} â€” ${formatDate(preview.startsAt)}`,
      description: `${formatTime(preview.startsAt)} Â· PlayNote`,
      images: [thumbnailUrl(preview.contentType)],
    },
  };
}
```

---

## 7. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
src/components/
â”œâ”€â”€ layout/
â”‚   â”œâ”€â”€ bottom-tab-bar.tsx
â”‚   â”œâ”€â”€ page-header.tsx          # ë’¤ë¡œê°€ê¸° + ì œëª© + ì•¡ì…˜ ë²„íŠ¼
â”‚   â””â”€â”€ loading-spinner.tsx
â”œâ”€â”€ session/
â”‚   â”œâ”€â”€ session-card.tsx          # ëª©ë¡ ì¹´ë“œ
â”‚   â”œâ”€â”€ session-status-badge.tsx
â”‚   â”œâ”€â”€ attendance-list.tsx
â”‚   â”œâ”€â”€ team-board.tsx            # A/B íŒ€ ë“œë˜ê·¸ì•¤ë“œë¡­
â”‚   â”œâ”€â”€ lane-selector.tsx
â”‚   â”œâ”€â”€ match-card.tsx
â”‚   â”œâ”€â”€ match-result-confirm.tsx
â”‚   â”œâ”€â”€ photo-grid.tsx
â”‚   â””â”€â”€ comment-section.tsx
â”œâ”€â”€ friend/
â”‚   â”œâ”€â”€ friend-list.tsx
â”‚   â””â”€â”€ friend-form.tsx
â”œâ”€â”€ stats/
â”‚   â”œâ”€â”€ stats-table.tsx
â”‚   â”œâ”€â”€ lane-bar-chart.tsx
â”‚   â””â”€â”€ champion-table.tsx
â”œâ”€â”€ upload/
â”‚   â”œâ”€â”€ image-picker.tsx          # ëª¨ë°”ì¼ ê°¤ëŸ¬ë¦¬ ë‹¤ì¤‘ ì„ íƒ
â”‚   â””â”€â”€ upload-progress.tsx
â”œâ”€â”€ share/
â”‚   â”œâ”€â”€ share-buttons.tsx         # ì¹´ì¹´ì˜¤í†¡ + ë§í¬ ë³µì‚¬
â”‚   â””â”€â”€ share-complete.tsx
â””â”€â”€ ui/
    â”œâ”€â”€ button.tsx
    â”œâ”€â”€ input.tsx
    â”œâ”€â”€ select.tsx
    â”œâ”€â”€ dialog.tsx                # í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸
    â”œâ”€â”€ toast.tsx
    â””â”€â”€ badge.tsx
```

---

## 8. ì—ëŸ¬ UX

| ìƒí™© | ëŒ€ì‘ |
|------|------|
| ë§Œë£Œ/ì˜ëª»ëœ í† í° | "ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. ë§í¬ë¥¼ ë‹¤ì‹œ ë°›ì•„ì£¼ì„¸ìš”." |
| ì‚­ì œëœ ì„¸ì…˜ | "ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì„¸ì…˜ì…ë‹ˆë‹¤." |
| ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ | ì¬ì‹œë„ ë²„íŠ¼ + "ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”." |
| 10ì¥ ì´ˆê³¼ | "ì„¸ì…˜ë‹¹ ìµœëŒ€ 10ì¥ê¹Œì§€ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." |
| admin ê¶Œí•œ í•„ìš” | "ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤." |
| effectiveLocked | "ì‚¬ì§„ì´ ì—…ë¡œë“œëœ í›„ì—ëŠ” ì…‹ì—…ì„ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤." |

---

## 9. ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €ì—ì„œ ì „ì²´ í”Œë¡œìš° í†µê³¼
- [ ] ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ë©”ì‹œì§€ ì •ìƒ ë Œë”ë§
- [ ] ë§í¬ ë³µì‚¬ í´ë°± ë™ì‘
- [ ] OG ë©”íƒ€ íƒœê·¸ í”„ë¦¬ë·° (ìŠ¬ë™, iMessage ë“±)
- [ ] í† í° ì—†ì´ ì„¸ì…˜ ì ‘ê·¼ ì‹œ ì ì ˆí•œ ì—ëŸ¬
- [ ] ë¬´í•œ ìŠ¤í¬ë¡¤ ì„¸ì…˜ ëª©ë¡
- [ ] ì´ë¯¸ì§€ ë‹¤ì¤‘ ì—…ë¡œë“œ (ê°¤ëŸ¬ë¦¬ ì„ íƒ)
- [ ] ì‹¤ì‹œê°„ ë°˜ì˜ (Apollo Cache ì—…ë°ì´íŠ¸)
